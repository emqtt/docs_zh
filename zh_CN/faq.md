# 常见问题 (FAQ)

## Q1. 无法订阅\$SYS/开头的系统主题?

\$SYS/#系统主题默认只允许本机订阅，访问控制规则设置在 etc/acl.config:

    {allow, {ipaddr, "127.0.0.1"}, pubsub, ["$SYS/#", "#"]}.

1. emqttd 消息服务器适用于什么项目?

物联网、移动互联网.

不适合做企业内部 MQ

2. 使用 emqttd 服务器，需要了解 Erlang 语言吗？

## 性能测试

1. TCP 连接测试，是否配置了重连。如果不配置重连，是否可用认为实际连接数可能并没有达到测试设置的最大连接数。

答复：TCP 连接测试有重连，SSL 双向测试取消了重连。实际连接数是通过 EMQ 的 stats、listener 指标统计，与是否重连没关系。EMQ 本次测试并未测试最高的连接数，只是例行测试 100 万连接的 CPU、内存占用情况。1.0 版本最高测试到 130 万连接，ZAKER 新闻客户端产品环境下 90 万。

2. 连接测试中的响应时间，是指创建连接到连接成功的时间吗？

答复：响应时间为 TCP 连接建立，发送 CONNECT 报文，接收到 CONNACK 报文。

3. 吞吐量测试中，没有丢包数量的统计。 请问下，是否有这个结果的统计？

答复：吞吐测试在青云北京三区主要测试 EMQ 每秒处理消息数量，没有丢包率的指标。在 EMQ 处理能力之内，QoS0 消息内网一般不会丢包，QoS1/2 消息支持回执与重传可以避免丢包。

4. 吞吐量测试中，topic 的数量是怎么设计的呢？

答复：吞吐测试是先创建 10 万线背景连接和 20 万 Topic。

5. 吞吐量测试中，测试分别统计的 fan-in 和 fan-out，fan-in 测试的时候，没有 sub。不知道我理解得对不对。有没有两个值都同时统计的测试结果呢？

答复: 共享订阅测试是双向。因为大部分应用场景下 PUB 消费需要用共享订阅平衡负载。

我们的应用场景中，流量更多是从多 publisher 到少量的 subscriber

答复：共享订阅或 Fastlane 订阅，专门处理数据采集类的多 PUB 少 SUB 场景。
